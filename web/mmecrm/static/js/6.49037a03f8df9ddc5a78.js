webpackJsonp([6],{"/Qer":function(t,a){},"3Ebu":function(t,a){},nmBD:function(t,a){t.exports={state:{1:{name:"提交审核",class:""},2:{name:"审核通过",class:"state01"},3:{name:"进行中",class:"underway"},4:{name:"完成",class:"accomplish"},5:{name:"暂停",class:"pause"},6:{name:"手动结束",class:"end"},"-1":{name:"设计中",class:""},"-2":{name:"审核驳回",class:"state02"},"-3":{name:"异常",class:"abnormity"}}}},xxcT:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("TvJ3"),s=e("nmBD"),n=e.n(s),o=e("gmQn"),r=e("PJh5"),c=e.n(r),d={data:function(){return{search:{states:"1,2,-2",size:10,page:1},data:{list:[],totalPage:0,totalCount:0},data_info:{dialogVisible:!1,refuseReason:"",infoDesc:"",title:""},state:n.a.state}},created:function(){this.$parent.init_pages(),this.get_list()},props:["names"],methods:{edit_name:function(t){this.$parent.editMarketing(t)},del_activity:function(t){this.$parent.deleteMarketing(t)},detail:function(t){this.$router.push({name:"preview",params:{id:t.id}})},design:function(t){this.$router.push({name:"marketing-activity",params:{id:t.id}})},remark:function(t){-2==t.state?this.data_info.title="驳回原因":this.data_info.title="活动描述",this.data_info.infoDesc=t.infoDesc,this.data_info.refuseReason=t.refuseReason,this.data_info.dialogVisible=!0},change_data:function(t,a){this.search.page=t,this.search.size=a,this.get_list()},get_list:function(){var t=this;return o.a.request({methods:"get",url:"activity",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8;"},params:{name:this.names,states:this.search.states,page:this.search.page-1,size:this.search.size}}).then(function(a){for(var e=0;e<a.data.list.length;e++)a.data.list[e].createTime=null==a.data.list[e].createTime?"--":c()(a.data.list[e].createTime).format("YYYY-MM-DD"),a.data.list[e].updateTime=null==a.data.list[e].updateTime?"--":c()(a.data.list[e].updateTime).format("YYYY-MM-DD");t.data.list=a.data.list,t.data.totalPage=a.data.totalPage,t.data.totalCount=a.data.totalCount}).catch(function(t){console.log(t)})}},components:{"table-pager":i.a}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main committed-list"},[e("table",{attrs:{border:"0",cellpadding:"0",cellspacing:"0"}},[t._m(0),t._v(" "),e("tbody",[t._l(t.data.list,function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.id))]),t._v(" "),e("td",{staticClass:"edit-name"},[e("span",{staticClass:"icon-box"},[e("i",{staticClass:"iconfont icon-edit2",on:{click:function(e){return t.edit_name(a)}}})]),e("span",[t._v(t._s(a.name))])]),t._v(" "),e("td",[t._v(t._s(a.createTime))]),t._v(" "),e("td",[t._v("2019-5-31")]),t._v(" "),e("td",{class:t.state[a.state].class},[t._v(t._s(t.state[a.state].name))]),t._v(" "),e("td",[t._v("未测试")]),t._v(" "),e("td",[-2==a.state?e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.design(a)}}},[t._v("进入设计")]):e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.detail(a)}}},[t._v("查看详情")]),t._v(" "),1==a.state?e("a",{staticStyle:{color:"#ddd",cursor:"not-allowed"},attrs:{href:"javascript:void(0)"}},[t._v("删除")]):e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.del_activity(a.id)}}},[t._v("删除")]),t._v(" "),e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.remark(a)}}},[t._v(t._s(-2===a.state?"驳回原因":"活动描述"))])])])}),t._v(" "),t.data.totalCount<=0?e("tr",{staticStyle:{"text-align":"center"}},[e("td",{staticClass:"table-empty",attrs:{colspan:"7"}},[t._v("没有符合条件的数据")])]):t._e()],2)]),t._v(" "),e("table-pager",{attrs:{show_size:"true",cur:t.search.page,total_page:t.data.totalPage,total_count:t.data.totalCount},on:{change:t.change_data}}),t._v(" "),e("el-dialog",{attrs:{title:t.data_info.title,width:"28%",visible:t.data_info.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(a){return t.$set(t.data_info,"dialogVisible",a)}}},[e("div",{staticClass:"desc"},[e("div",[t._v("活动描述："+t._s(null==t.data_info.refuseReason?"暂无活动描述数据":t.data_info.refuseReason))]),t._v(" "),e("div",[t._v("驳回原因："+t._s(null==t.data_info.infoDesc?"暂无驳回原因数据":t.data_info.infoDesc))])]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.data_info.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.data_info.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("td",{attrs:{width:"10%"}},[t._v("活动ID")]),t._v(" "),e("td",{staticStyle:{"padding-left":"32px"},attrs:{width:"22%"}},[t._v("活动名称")]),t._v(" "),e("td",{attrs:{width:"15%"}},[t._v("提交审核时间")]),t._v(" "),e("td",{attrs:{width:"15%"}},[t._v("*审核完成时间")]),t._v(" "),e("td",{attrs:{width:"10%"}},[t._v("审核结果")]),t._v(" "),e("td",{attrs:{width:"10%"}},[t._v("*活动测试状态")]),t._v(" "),e("td",{attrs:{width:"18%"}},[t._v("操作")])])])}]};var _=e("VU/8")(d,l,!1,function(t){e("3Ebu"),e("/Qer")},"data-v-3dc2be61",null);a.default=_.exports}});